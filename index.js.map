{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n// API конфігурація\nconst API_KEY = '19753267-9cf01e6822d74b7ae8fe04f3f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// Конфігурація axios\nconst pixabayAPI = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 15,\n  },\n});\n\n/**\n * Отримання зображень за пошуковим запитом\n * @param {string} query - Пошукове слово\n * @returns {Promise} - Promise з даними від API\n */\nexport async function getImagesByQuery(query) {\n  try {\n    const response = await pixabayAPI.get('', {\n      params: {\n        q: query.trim(),\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Елементи DOM\nconst galleryContainer = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader-container');\n\n// Екземпляр SimpleLightbox\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n/**\n * Створення розмітки для галереї зображень\n * @param {Array} images - Масив об'єктів зображень\n */\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img \n            class=\"gallery-image\" \n            src=\"${webformatURL}\" \n            alt=\"${tags}\" \n            loading=\"lazy\" \n          />\n          <div class=\"info\">\n            <p class=\"info-item\">\n              <b>Likes</b>\n              <span>${likes}</span>\n            </p>\n            <p class=\"info-item\">\n              <b>Views</b>\n              <span>${views}</span>\n            </p>\n            <p class=\"info-item\">\n              <b>Comments</b>\n              <span>${comments}</span>\n            </p>\n            <p class=\"info-item\">\n              <b>Downloads</b>\n              <span>${downloads}</span>\n            </p>\n          </div>\n        </a>\n      </li>\n    `\n    )\n    .join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n\n  // Оновлення SimpleLightbox після додавання нових елементів\n  lightbox.refresh();\n}\n\n/**\n * Очищення вмісту галереї\n */\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n\n/**\n * Показати індикатор завантаження\n */\nexport function showLoader() {\n  loaderContainer.classList.add('visible');\n}\n\n/**\n * Сховати індикатор завантаження\n */\nexport function hideLoader() {\n  loaderContainer.classList.remove('visible');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Елементи DOM\nconst searchForm = document.querySelector('.form');\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\n\n// Обробник відправки форми\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\n/**\n * Обробник відправки форми пошуку\n * @param {Event} event - Подія відправки форми\n */\nasync function onSearchFormSubmit(event) {\n  event.preventDefault();\n\n  const query = searchInput.value.trim();\n\n  // Перевірка на порожній рядок\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  try {\n    // Очищення попередніх результатів\n    clearGallery();\n\n    // Показуємо лоадер\n    showLoader();\n\n    // Виконуємо запит до API\n    const data = await getImagesByQuery(query);\n\n    // Ховаємо лоадер\n    hideLoader();\n\n    // Перевірка чи знайдено зображення\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    // Відображаємо галерею\n    createGallery(data.hits);\n\n    // Показуємо успішне повідомлення\n    iziToast.success({\n      title: 'Success',\n      message: `Found ${data.totalHits} images!`,\n      position: 'topRight',\n    });\n  } catch (error) {\n    // Ховаємо лоадер в разі помилки\n    hideLoader();\n\n    console.error('Search error:', error);\n\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later!',\n      position: 'topRight',\n    });\n  }\n\n  // Очищаємо поле вводу\n  searchInput.value = '';\n}\n"],"names":["API_KEY","BASE_URL","pixabayAPI","axios","getImagesByQuery","query","error","galleryContainer","loaderContainer","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchForm","searchInput","onSearchFormSubmit","event","iziToast","data"],"mappings":"owBAGA,MAAMA,EAAU,qCACVC,EAAW,2BAGXC,EAAaC,EAAM,OAAO,CAC9B,QAASF,EACT,OAAQ,CACN,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CACA,CAAC,EAOM,eAAeI,EAAiBC,EAAO,CAC5C,GAAI,CAOF,OANiB,MAAMH,EAAW,IAAI,GAAI,CACxC,OAAQ,CACN,EAAGG,EAAM,KAAI,CACrB,CACA,CAAK,GAEe,IACpB,OAAWC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACV,CACA,CChCA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAkB,SAAS,cAAc,mBAAmB,EAG5DC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAMM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,wCAE4BL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMDC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAM/B,EACK,KAAK,EAAE,EAEVb,EAAiB,mBAAmB,YAAaM,CAAM,EAGvDJ,EAAS,QAAO,CAClB,CAKO,SAASY,GAAe,CAC7Bd,EAAiB,UAAY,EAC/B,CAKO,SAASe,GAAa,CAC3Bd,EAAgB,UAAU,IAAI,SAAS,CACzC,CAKO,SAASe,GAAa,CAC3Bf,EAAgB,UAAU,OAAO,SAAS,CAC5C,CC5EA,MAAMgB,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAc,SAAS,cAAc,2BAA2B,EAGtED,EAAW,iBAAiB,SAAUE,CAAkB,EAMxD,eAAeA,EAAmBC,EAAO,CACvCA,EAAM,eAAc,EAEpB,MAAMtB,EAAQoB,EAAY,MAAM,KAAI,EAGpC,GAAI,CAACpB,EAAO,CACVuB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACJ,CAEE,GAAI,CAEFP,EAAY,EAGZC,EAAU,EAGV,MAAMO,EAAO,MAAMzB,EAAiBC,CAAK,EAMzC,GAHAkB,EAAU,EAGNM,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACN,CAGIjB,EAAckB,EAAK,IAAI,EAGvBD,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,SAASC,EAAK,SAAS,WAChC,SAAU,UAChB,CAAK,CACL,OAAWvB,EAAO,CAEdiB,EAAU,EAEV,QAAQ,MAAM,gBAAiBjB,CAAK,EAEpCsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAChB,CAAK,CACL,CAGEH,EAAY,MAAQ,EACtB"}